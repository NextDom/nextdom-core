{#

/* This file is part of Jeedom.
*
* Jeedom is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* Jeedom is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with Jeedom. If not, see <http://www.gnu.org/licenses/>.
*/

/* This file is part of NextDom.
*
* NextDom is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* NextDom is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with NextDom. If not, see <http://www.gnu.org/licenses/>.
*/

#}
<section class="content-header">
    <div class="action-bar">
        <div class="action-group">
            <a class="btn btn-danger btn-action-bar" href="index.php?v=d&p=osdb"><i class="fas fa-chevron-left"></i>{{ 'common.return' | trans }}</a>
        </div>
    </div>
</section>

<section class="content">
    <div class="box" id="div_rowSystemCommand">
        <!-- Header bar -->
        <div class="box-header with-border">
            <h3 class="box-title"><i class="fas fa-terminal"></i>{{ 'osdb.system_console' | trans }}</h3>
        </div>

        <!-- Page content -->
        <div class="box-body">
            <div class="row">
                <div class="col-lg-2 col-md-3 col-sm-4" style="overflow-y:auto;overflow-x:hidden;">
                    <legend>{{ 'osdb.command_list' | trans }}</legend>
                    <div class="bs-sidebar form-group">
                        <ul class="nav nav-list bs-sidenav list-group">
                            {% if systemCanSudo %}
                                <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="sudo ../../scripts/health.sh">{{ 'health.sh' }}</a></li>
                            {% endif %}
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="dmesg">{{ 'dmesg' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="ip a">{{ 'ip a' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="lsusb">{{ 'lsusb' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="ls -la /dev/ttyUSB*">{{ 'ls -la /dev/ttyUSB*' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="free -m">{{ 'free -m' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="ps ax">{{ 'ps ax' }}</a></li>
                            {% if systemCanSudo %}
                                <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="sudo cat /var/log/mysql/error.log">{{ 'MySQL log' }}</a></li>
                            {% endif %}
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="df -h">{{ 'df -h' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="w">{{ 'w' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="dpkg -l">{{ 'dpkg -l' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand label-list" data-command="ss -a4n">{{ 'ss -a4n' }}</a></li>
                            <li class="cursor list-group-item"><a class="bt_systemCommand list-group-item-danger" data-command="sudo reboot">{{ 'sudo reboot' }}</a></li>
                        </ul>
                    </div>
                    <legend>{{ 'osdb.historic' | trans }}</legend>
                    <div class="bs-sidebar form-group">
                        <ul class="nav nav-list bs-sidenav list-group" id="ul_listSystemHistory"></ul>
                    </div>
                </div>
                <div class="col-lg-10 col-md-9 col-sm-8 left-border" style="overflow-y:hidden;overflow-x:hidden;">
                    <legend>{{ 'osdb.click_on_command' | trans }}</legend>
                    <div class="input-group form-group">
                        <input class="form-control" id="in_specificCommand" placeholder="{{ 'osdb.personalized_command' | trans }}"></input>
                        <span class="input-group-btn">
                            <a class="btn btn-action" id="bt_resetSpecifiCommand" data-toggle="tooltip" data-original-title="{{ 'osdb.clean_command' | trans }}"><i class="fas fa-times"></i></a>
                            <a class="btn btn-warning" id="bt_validateSpecifiCommand" data-toggle="tooltip" data-original-title="{{ 'osdb.select_command' | trans }}"><i class="fas fa-check spacing-right"></i><span>{{ 'common.ok' | trans }}</span></a>
                        </span>
                    </div>
                    <pre id="pre_commandResult" class="form-control ta_autosize" style="height:auto;overflow: auto;" data-l1key="text" disabled></pre>
                </div>
            </div>
        </div>
    </div>
</section>
